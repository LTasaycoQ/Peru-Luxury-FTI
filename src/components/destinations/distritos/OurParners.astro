---
import { Image } from 'astro:assets'

interface Partner {
  image: string;
  name: string;
  description?: string;
  link?: string;
}

interface Props {
  title?: string;
  variant: "default" | "single" | "detailed";
  partners: Partner[];
}

const { title = "Our Parners", variant, partners } = Astro.props;

const isValidImage = (src: string) => src && src.startsWith('http');
---

<section class="our-parnes font-[Poppins]">
  <div class="container-title text-center">
   
   <h2 class="text-[38px] font-medium text-gray-800">Explore our collection of <br> exceptional experiences throughout Peru. </h2>
   <p class="pt-[20px] text-gray-700 text-[18px] font-light">A carefully curated selection of iconic destinations and extraordinary settings that reflect the country’s cultural, natural, and historical <br>  richness—designed for travelers who seek to discover Peru with distinction.</p>
    

  </div>

  {variant === "default" && (
    <div class="grid grid-cols-4 gap-[70px] w-[82%] max-xl:w-[90%] max-lg:grid-cols-2 max-md:grid-cols-1">
      {partners.slice(0,4).map((partner) => (
        <div class="card-default">
          {isValidImage(partner.image) ? (
            <Image 
              src={partner.image} 
              alt={partner.name} 
              width={600}
              height={300}
              class="imagen w-full h-[250px] object-cover" 
            />
          ) : (
            <div class="w-full h-[350px] bg-gray-200 flex items-center justify-center">No Image</div>
          )}

        <div class="card-content pt-[10px]">
                            <h3 class="card-title text-gray-700 text-[18px]  font-bold">{partner.name}</h3>
                            <a href={partner.link} class="card-link"><i>Read More</i></a>
                        </div>
        </div>
      ))
      





      }
    </div>
  )}

  {variant === "single" && (
    <div class="flex justify-center items-center flex-wrap gap-[30px]">
      {partners.map((partner) => (
        <div class="relative">
          {isValidImage(partner.image) ? (
            <Image 
              src={partner.image} 
              alt={partner.name} 
              width={400}
              height={300}
              class="w-[400px] h-[300px] object-cover" 
            />
          ) : (
            <div class="w-[400px] h-[300px] bg-gray-200"></div>
          )}
          <span class="absolute bottom-4 left-4 text-white text-[25px] font-medium">{partner.name}</span>
        </div>
      ))}
    </div>
  )}

  {variant === "detailed" && (
    <div class="grid grid-cols-2 gap-[50px] w-[70%] max-xl:w-[90%] max-lg:grid-cols-2 max-md:grid-cols-1">
      {partners.map((partner) => (
        <div class="card-default">
          {isValidImage(partner.image) ? (
            <Image 
              src={partner.image} 
              alt={partner.name} 
              width={600}
              height={350}
              class="imagen w-full h-[350px] object-cover" 
            />
          ) : (
            <div class="w-full h-[350px] bg-gray-200 flex items-center justify-center">No Image</div>
          )}
          <h3 class="text-default">{partner.name}</h3>
          <p class="text-sm text-gray-600 mt-1">{partner.description}</p>
          <a href={partner.link} class="link-default"><u><i>Read More</i></u></a>
        </div>
      ))}
    </div>
  )}
</section>

<style>
  .text-default {
    font-size: 20px;
    font-weight: 600;
    margin-top: 20px;
    margin-bottom: 15px;
    color: #212121;
  }

  .link-default {
    cursor: pointer;
    display: inline-block; 
    margin-top: 20px;
    color: #af991b;
    transition: all 0.5s ease;
  }

  .link-default:hover {
    color: #f7d30e;
    transform: translateY(-10px);
  }

  .container-title {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 40px;
    margin-top: 60px;
    font-weight: 400;
    color: #222;
    margin-bottom: 45px;
  }

  .our-parnes {

    background-color: #F7F7F7;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding-bottom: 70px;
  }

  .line {
    width: 220px;
    border-top: 3px solid rgb(196, 160, 95);
  }


  
    .card-link {
        margin-top: 25px;
        width: fit-content;
        color: #DABB42;
        text-decoration: none;
        font-style: italic;
        border-bottom: 1px solid #DABB42;
        transition: all 0.3s ease;
    }

    .card-link:hover{
        transform: translateY(-10px);
    }
</style>