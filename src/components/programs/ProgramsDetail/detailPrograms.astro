---
interface programItenerario {
    ite_titulo: string;
    ite_text: string;
    ite_image: string;
}

interface programBreve {
    titulo_breve: string;
    text_breve: string;
}

interface Props {
    title: string;
    programBreve: programBreve[];
    programItenerario: programItenerario[];
}

const { title, programBreve, programItenerario } = Astro.props;
---

<section class="font-[Poppins] w-full flex flex-col justify-center items-center p-[30px]">
    <div class="w-[80%] max-md:w-full">
        <h1 class="text-start text-[36px] text-gray-800 font-medium">
            {title}
        </h1>

        <br>
        <div class="w-full">
            <div class="flex flex-col text-center justify-center items-center">
                <ul id="tab-menu" class="w-[50%] max-md:w-full border-[1px] border-gray-200 flex justify-between text-gray-500 font-normal text-center rounded-[100px] overflow-hidden">
                    <li class="menu-list active w-1/3" data-target="brief">Brief</li>
                    <li class="menu-list w-1/3" data-target="itinerary">Itinerary</li>
                    <li class="menu-list w-1/3" data-target="include">Include</li>
                </ul>
            </div>

            <div class="p-[20px] max-md:p-[0]">
                <div id="brief" class="tab-content">
                    {programBreve.map((breve) => (
                         <div class="py-[14px]">
                                <h3 class="text-[15px] font-bold text-gray-800">{breve.titulo_breve}</h3>
                                <span class="text-gray-700 ">{breve.text_breve}</span>
                        </div>
                    ))}
                </div>

                <div id="itinerary" class="tab-content hidden">
                    {programItenerario.map((itenerario) => (
                        <div class="py-[8px]">
                            <details class="group cursor-pointer flex flex-col">
                                <summary class="bg-[#FAFAFF] p-[13px] rounded-[10px] font-normal text-gray-700 border-[1px] border-gray-200 flex justify-between items-center list-none">
                                    {itenerario.ite_titulo} 
                                    <i class="text-[30px] group-open:rotate-180 transition-transform hover:text-orange-400 bi bi-arrow-up-right-circle-fill"></i>
                                </summary>
                                <div class="fadein pt-[30px] bg-[#FAFAFF] border-[1px] border-gray-200 border-t-transparent p-[20px] flex max-md:flex-col">
                                    <p class="w-[50%] max-md:w-full text-[14px] text-gray-700 font-light">{itenerario.ite_text}</p>
                                    <div class="flex justify-center items-center w-[50%] max-md:w-full">
                                        <img class="w-[400px] rounded-lg" src={itenerario.ite_image} alt={itenerario.ite_titulo}>
                                    </div>
                                </div>
                            </details>    
                        </div>
                    ))}
                </div>

                <div id="include" class="tab-content hidden">
                    <p class="text-center py-10 text-gray-400">Content for 'Your Include' goes here.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    const tabs = document.querySelectorAll('.menu-list');
    const contents = document.querySelectorAll('.tab-content');

    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            const target = tab.getAttribute('data-target');

            tabs.forEach(t => t.classList.remove('active'));
            tab.classList.add('active');

            contents.forEach(content => {
                if (content.id === target) {
                    content.classList.remove('hidden');
                } else {
                    content.classList.add('hidden');
                }
            });
        });
    });
</script>

<style>
    .active {
        background-color: #FEF6E8;
        color: orange;
    }

    .detalle {
        animation: fadeIn 2s ease-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }


    .menu-list {
        padding: 13px;
        cursor: pointer;
        border-radius: 100px;
        transition: all 0.3s ease;
    }

    .menu-list:hover {
        background-color: #FEF6E8;
        color: orange;
    }

    /* Hide the default triangle on <summary> */
    summary::-webkit-details-marker {
        display: none;
    }
</style>