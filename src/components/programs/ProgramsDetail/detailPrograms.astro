---
interface programItenerario {
    ite_titulo: string;
    ite_text: string;
    ite_image: string;
}
interface programIncluye {
    text: string;
}
interface programNoIncluye {
    text: string;
}

interface programBreve {
    titulo_breve: string;
    text_breve: string;
}

interface Props {
    title: string;
    programBreve: programBreve[];
    programItenerario: programItenerario[];
    programIncluye: programIncluye[];
    programNoIncluye: programNoIncluye[];    

}

const { title, programBreve, programItenerario, programNoIncluye, programIncluye } = Astro.props;
---

<section class="font-[Poppins] bg-[#FAFAF8] w-full flex flex-col justify-center items-center p-[30px]">
    <div class="w-[80%] max-lg:w-full pt-[30px]">
        <span class="text-[#BA9216] font-bold">Programs</span>
        <h1 class="text-start text-[36px] text-gray-800 font-medium">
            {title}
        </h1>

        <br>
        <br>
        <div class="w-full">
            <div class="flex flex-col pb-[20px] text-center  items-start">
                <ul id="tab-menu" class="w-[50%] max-md:w-full border-[1px] border-gray-200 flex justify-between text-gray-500 font-normal text-center rounded-[10px] overflow-hidden">
                    <li class="menu-list active w-1/3" data-target="brief">Brief</li>
                    <li class="menu-list w-1/3" data-target="itinerary">Itinerary</li>
                    <li class="menu-list w-1/3" data-target="include">Include</li>
                </ul>
            </div>

            <div class="p-[20px] max-md:p-[0]">
                <div id="brief" class="tab-content">
                    {programBreve.map((breve) => (
                         <div class="py-[16px] pb-[10px]">
                                <h3 class="flex gap-[10px] text-[#00402e] text-[20px] font-[500]">{breve.titulo_breve}</h3>
                                <span class="text-gray-700 text-[15px] font-[300] ">{breve.text_breve}</span>
                        </div>
                    ))}
                </div>

                <div id="itinerary" class="tab-content hidden">
                    {programItenerario.map((itenerario, index) => (
                        <div class="py-[8px]" > 
                            <details open={index === 0 ? true : undefined} class="group cursor-pointer flex flex-col">
                                <summary class="bg-[#FAFAFF]  text-[20px] font-[500] p-[13px] rounded-[10px] font-normal text-gray-700 border-[1px] border-gray-200 flex md:gap-[90px] justify-between items-center list-none">
                                    {itenerario.ite_titulo} 
                                    <svg class="group-open:-rotate-180" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="6 9 12 15 18 9"></polyline>
                                    </svg>
                                </summary>
                                <div class="fadein pt-[30px] bg-[#FAFAFF] border-[1px] border-gray-200 border-t-transparent p-[20px] flex max-md:flex-col max-md:gap-[50px]">
                                    <p class="w-[50%] max-md:w-full  text-[15px] font-[300] text-gray-700 font-light" set:html={itenerario.ite_text}></p>
                                    <div class="flex justify-center items-center w-[50%] max-md:w-full">
                                        <img class="w-[300px] rounded-lg" src={itenerario.ite_image} alt={itenerario.ite_titulo} />
                                    </div>
                                </div>
                            </details>    
                        </div>
                    ))}
                </div>

                <div id="include" class="tab-content hidden flex justify-center gap-[60px] max-md:flex-col">
                    
                    <div class="p-[20px] shadow-2xl shadow-gray-300 rounded-[10px] bg-[#FAFAFF]">
                        {
                            programIncluye.map((item) => (
                                <ul class="flex flex-col">
                                    <li class=" text-[14px] text-gray-700 pb-[8px] flex gap-[13.5px]"> <i class="text-[15px] text-green-600 bi bi-patch-check"></i> {item.text}</li>
                                </ul> 
                            ))
                        }
                    </div>
                    <div class="p-[20px] shadow-2xl shadow-gray-300 rounded-[10px] bg-[#FAFAFF]">
                        {
                            programNoIncluye.map((item) => (
                                <ul class="flex flex-col">
                                    <li class=" text-[14px]  pb-[8px] text-gray-700 flex gap-[13.5px]"><i class="text-red-400 bi bi-x-circle"></i> {item.text}</li>
                                </ul> 
                            ))
                        }
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    const tabs = document.querySelectorAll('.menu-list');
    const contents = document.querySelectorAll('.tab-content');

    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            const target = tab.getAttribute('data-target');

            tabs.forEach(t => t.classList.remove('active'));
            tab.classList.add('active');

            contents.forEach(content => {
                if (content.id === target) {
                    content.classList.remove('hidden');
                } else {
                    content.classList.add('hidden');
                }
            });
        });
    });
</script>

<style>
    .active {
        color: white;
        background-color: #d4c06d;
        font-weight: 600;
    }

    .detalle {
        animation: fadeIn 2s ease-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }


    .menu-list {
        padding: 13px;
        cursor: pointer;
        border-radius: 10px;
        transition: all 0.3s ease;
    }

    .menu-list:hover {
        background-color: #dabc42cb;
        color: white;
        font-weight: 500;
    }

    /* Hide the default triangle on <summary> */
    summary::-webkit-details-marker {
        display: none;
    }
</style>